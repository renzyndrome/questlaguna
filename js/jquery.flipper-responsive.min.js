/*!
 * Start Bootstrap -  v1.0.0 (https://github.com/renzyndrome/questlaguna#readme)
 * Copyright 2013-2019 BTS Ministry
 * Licensed under MIT (https://github.com/BlackrockDigital/questlaguna/blob/master/LICENSE)
 */

jQuery(function(h){String.prototype.repeat||(String.prototype.repeat=function(i){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var e=""+this;if((i=+i)!=i&&(i=0),i<0)throw new RangeError("repeat count must be non-negative");if(i==1/0)throw new RangeError("repeat count must be less than infinity");if(i=Math.floor(i),0==e.length||0==i)return"";if(1<<28<=e.length*i)throw new RangeError("repeat count must not overflow maximum string size");for(var d="",t=0;t<i;t++)d+=e;return d}),String.prototype.padStart||(String.prototype.padStart=function(i,e){return i>>=0,e=String(void 0!==e?e:" "),this.length>i?String(this):((i-=this.length)>e.length&&(e+=e.repeat(i/e.length)),e.slice(0,i)+String(this))}),h.fn.flipper=function(i,e){var a=h(this),c=(i=i||"init",h.extend({reverse:a.data("reverse")||!1,datetime:a.data("datetime")||"now",template:a.data("template")||"HH:ii:ss",labels:a.data("labels")||"Hours|Minutes|Seconds",preload:!0},e));if(console.log(c.reverse),"init"===i){if(a.hasClass("flipper-initialized"))return void console.warn("Flipper already initialized.");a.addClass("flipper-initialized");var p,d=c.template.split("|"),r=c.labels.split("|");d.forEach(function(i,e){0<e&&a.append('<div class="flipper-group flipper-delimiter">:</div>'),a.append('<div class="flipper-group flipper-'+i+'"></div>');var d=a.find(".flipper-group.flipper-"+i);if(void 0!==r[e]&&d.append("<label>"+r[e]+"</label>"),"d"===i||"H"===i||"i"===i||"s"===i){var t=c.reverse?"reverse":"";d.append('<div class="flipper-digit '+t+'"></div>')}if("dd"===i||"ddd"===i||"HH"===i||"ii"===i||"ss"===i){t=c.reverse?"reverse":"";d.append('<div class="flipper-digit '+t+'"></div>'),d.append('<div class="flipper-delimiter"></div>'),d.append('<div class="flipper-digit '+t+'"></div>'),"ddd"===i&&(d.append('<div class="flipper-delimiter"></div>'),d.append('<div class="flipper-digit '+t+'"></div>'))}if("d"===i)for(p=0;p<=31;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>");if("H"===i)for(p=0;p<=23;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>");if("i"===i||"s"===i)for(p=0;p<=59;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>");if("dd"===i||"ddd"===i)for(p=0;p<=9;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>"),"ddd"===i&&d.find(".flipper-digit:eq(2)").append('<div class="digit-face">'+p+"</div>");if("HH"===i){for(p=0;p<=2;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>");for(p=0;p<=9;p++)d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>")}if("ii"===i||"ss"===i){for(p=0;p<=5;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>");for(p=0;p<=9;p++)d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>")}}),c.preload&&u(a,c.datetime,!1),setInterval(function(){u(a,c.datetime,!0)},1e3),g(a),h(window).on("resize",function(){g(a)})}var v=400;h("body");function g(i){var e,d,t=1e3,a=t,p=0,r=0;for(i.css("font-size",a+"px");p<20;){if(p++,e=i.innerWidth(),i.css("width","9999px"),d=0,i.find(".flipper-group").each(function(){var i=parseFloat(h(this).outerWidth());d+=i}),e-d<10&&0<e-d)return void i.css("width","");e<d?t=a<t?a:t:r=r<a?a:r,a=(t+r)/2,i.css("width",""),i.css("font-size",a+"px")}}function u(i,e,d){d=d||!1;if(i.is(":visible")){i.hasClass("flipper-invisible")&&(i.removeClass("flipper-invisible"),g(i),u(i,c.datetime,!1));var t=Date.now();if("now"===e)var a=(t=new Date).getSeconds(),p=t.getMinutes(),r=t.getHours(),f=t.getDate();else{var n=(Date.parse(function(i){var e=i.split(" "),d=e[0].split("-"),t=e[1].split(":");return new Date(d[0],d[1]-1,d[2],t[0],t[1],t[2])}(e))-t)/1e3;n-=60*(f=Math.floor(n/60/60/24))*60*24,n-=60*(r=Math.floor(n/60/60))*60,n-=60*(p=Math.floor(n/60));a=Math.floor(n)}var l=f.toString().padStart(3,"0"),s=r.toString().padStart(2,"0"),o=p.toString().padStart(2,"0"),v=a.toString().padStart(2,"0");d?(i.find(".flipper-d").find(".flipper-digit:eq(0)").attr("data-value",f),i.find(".flipper-H").find(".flipper-digit:eq(0)").attr("data-value",r),i.find(".flipper-i").find(".flipper-digit:eq(0)").attr("data-value",p),i.find(".flipper-s").find(".flipper-digit:eq(0)").attr("data-value",a),i.find(".flipper-dd").find(".flipper-digit:eq(0)").attr("data-value",l[1]),i.find(".flipper-dd").find(".flipper-digit:eq(1)").attr("data-value",l[2]),i.find(".flipper-HH").find(".flipper-digit:eq(0)").attr("data-value",s[0]),i.find(".flipper-HH").find(".flipper-digit:eq(1)").attr("data-value",s[1]),i.find(".flipper-ii").find(".flipper-digit:eq(0)").attr("data-value",o[0]),i.find(".flipper-ii").find(".flipper-digit:eq(1)").attr("data-value",o[1]),i.find(".flipper-ss").find(".flipper-digit:eq(0)").attr("data-value",v[0]),i.find(".flipper-ss").find(".flipper-digit:eq(1)").attr("data-value",v[1]),i.find(".flipper-ddd").find(".flipper-digit:eq(0)").attr("data-value",l[0]),i.find(".flipper-ddd").find(".flipper-digit:eq(1)").attr("data-value",l[1]),i.find(".flipper-ddd").find(".flipper-digit:eq(2)").attr("data-value",l[2])):(i.find(".flipper-group .flipper-digit").removeAttr("data-value"),i.find(".digit-face.active").removeClass("active"),i.find(".flipper-d .flipper-digit:eq(0) .digit-face:contains("+f+")").addClass("active"),i.find(".flipper-H .flipper-digit:eq(0) .digit-face:contains("+r+")").addClass("active"),i.find(".flipper-i .flipper-digit:eq(0) .digit-face:contains("+p+")").addClass("active"),i.find(".flipper-s .flipper-digit:eq(0) .digit-face:contains("+a+")").addClass("active"),i.find(".flipper-dd .flipper-digit:eq(0) .digit-face:contains("+l[1]+")").addClass("active"),i.find(".flipper-dd .flipper-digit:eq(1) .digit-face:contains("+l[2]+")").addClass("active"),i.find(".flipper-HH .flipper-digit:eq(0) .digit-face:contains("+s[0]+")").addClass("active"),i.find(".flipper-HH .flipper-digit:eq(1) .digit-face:contains("+s[1]+")").addClass("active"),i.find(".flipper-ii .flipper-digit:eq(0) .digit-face:contains("+o[0]+")").addClass("active"),i.find(".flipper-ii .flipper-digit:eq(1) .digit-face:contains("+o[1]+")").addClass("active"),i.find(".flipper-ss .flipper-digit:eq(0) .digit-face:contains("+v[0]+")").addClass("active"),i.find(".flipper-ss .flipper-digit:eq(1) .digit-face:contains("+v[1]+")").addClass("active"),i.find(".flipper-ddd .flipper-digit:eq(0) .digit-face:contains("+l[0]+")").addClass("active"),i.find(".flipper-ddd .flipper-digit:eq(1) .digit-face:contains("+l[1]+")").addClass("active"),i.find(".flipper-ddd .flipper-digit:eq(2) .digit-face:contains("+l[2]+")").addClass("active"),function(i){i.find(".flipper-digit").each(function(){var i=h(this),e=i.find(".digit-face.active").html();i.find(".digit-top").remove(),i.find(".digit-top2").remove(),i.find(".digit-bottom").remove(),i.find(".digit-next").remove(),i.prepend('<div class="digit-top">'+e+"</div>"),i.prepend('<div class="digit-top2">'+e+"</div>"),i.prepend('<div class="digit-bottom">'+e+"</div>"),i.prepend('<div class="digit-next"></div>')})}(i))}else i.addClass("flipper-invisible")}setInterval(function(){h(".flipper").find(".flipper-digit[data-value]").each(function(){var i=h(this);i.find(".active").html()!==i.attr("data-value")&&(i.is(".r")||!function i(e){if(e.closest(".flipper").is(".flipper-initialized"))if(e.hasClass("r"))setTimeout(function(){i(e)},v+1);else{e.addClass("r");var d=e.find(".digit-top"),t=e.find(".digit-top2"),a=e.find(".digit-bottom"),p=e.find(".digit-face.active"),r=e.find(".digit-face:first"),f=p.prev(".digit-face"),n=p.next(".digit-face"),l=e.find(".digit-face:last");if(e.hasClass("reverse"))var s=f.length?f:l;else s=n.length?n:r;parseInt(d.html());var o=s.html();e.find(".digit-next").html(o),e.find(".digit-face").removeClass("active"),s.addClass("active"),d.addClass("r"),t.addClass("r"),a.addClass("r"),o.toString()===e.attr("data-value")&&e.removeAttr("data-value"),setTimeout(function(){d.html(o).hide(),t.html(o),setTimeout(function(){a.html(o).removeClass("r"),d.removeClass("r").show(),t.html(o).removeClass("r"),e.removeClass("r")},v/2)},v/2)}}(i))})},v/4)}});